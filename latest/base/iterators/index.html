<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Iteration utilities · Julia中文文档</title><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-89508993-1', 'auto');
ga('send', 'pageview');
</script><link rel="canonical" href="http://docs.juliacn.com/latest/base/iterators/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link href="../../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><a href="../../index.html"><img class="logo" src="../../assets/logo.png" alt="Julia中文文档 logo"/></a><h1>Julia中文文档</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../">主页</a></li><li><span class="toctext">手册</span><ul><li><a class="toctext" href="../../manual/getting-started/">起步</a></li><li><a class="toctext" href="../../manual/variables/">变量</a></li><li><a class="toctext" href="../../manual/integers-and-floating-point-numbers/">整数和浮点数</a></li><li><a class="toctext" href="../../manual/complex-and-rational-numbers/">复数与分数</a></li><li><a class="toctext" href="../../manual/strings/">字符串</a></li><li><a class="toctext" href="../../manual/parallel-computing/">并行计算</a></li><li><a class="toctext" href="../../manual/style-guide/">代码风格指南</a></li></ul></li><li><span class="toctext">基础组件</span><ul><li><a class="toctext" href="../base/">重要组件</a></li><li><a class="toctext" href="../collections/">Collections and Data Structures</a></li><li><a class="toctext" href="../math/">Mathematics</a></li><li><a class="toctext" href="../numbers/">Numbers</a></li><li><a class="toctext" href="../strings/">Strings</a></li><li><a class="toctext" href="../arrays/">数组</a></li><li><a class="toctext" href="../parallel/">Tasks</a></li><li><a class="toctext" href="../multi-threading/">Multi-Threading</a></li><li><a class="toctext" href="../constants/">Constants</a></li><li><a class="toctext" href="../file/">Filesystem</a></li><li><a class="toctext" href="../io-network/">I/O 和网络（Network）</a></li><li><a class="toctext" href="../punctuation/">Punctuation</a></li><li><a class="toctext" href="../sort/">Sorting and Related Functions</a></li><li class="current"><a class="toctext" href>Iteration utilities</a><ul class="internal"></ul></li><li><a class="toctext" href="../c/">C Interface</a></li><li><a class="toctext" href="../libc/">C Standard Library</a></li><li><a class="toctext" href="../stacktraces/">StackTraces</a></li><li><a class="toctext" href="../simd-types/">SIMD Support</a></li></ul></li><li><span class="toctext">中文文档开发</span><ul><li><a class="toctext" href="../../juliacn/style-guide/">翻译格式指引</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li>基础组件</li><li><a href>Iteration utilities</a></li></ul><a class="edit-page" href="https://github.com/findmyway/JuliaZH.jl/blob/master/docs/src/base/iterators.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Iteration utilities</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Iteration-utilities-1" href="#Iteration-utilities-1">Iteration utilities</a></h1><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.Stateful" href="#Base.Iterators.Stateful"><code>Base.Iterators.Stateful</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-none">Stateful(itr)</code></pre><p>There are several different ways to think about this iterator wrapper:</p><ol><li>It provides a mutable wrapper around an iterator and its iteration state.</li><li>It turns an iterator-like abstraction into a <code>Channel</code>-like abstraction.</li><li>It&#39;s an iterator that mutates to become its own rest iterator whenever an item is produced.</li></ol><p><code>Stateful</code> provides the regular iterator interface. Like other mutable iterators (e.g. <a href="../parallel/#Base.Channel"><code>Channel</code></a>), if iteration is stopped early (e.g. by a <code>break</code> in a <code>for</code> loop), iteration can be resumed from the same spot by continuing to iterate over the same iterator object (in contrast, an immutable iterator would restart from the beginning).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; a = Iterators.Stateful(&quot;abcdef&quot;);

julia&gt; isempty(a)
false

julia&gt; popfirst!(a)
&#39;a&#39;: ASCII/Unicode U+0061 (category Ll: Letter, lowercase)

julia&gt; collect(Iterators.take(a, 3))
3-element Array{Char,1}:
 &#39;b&#39;
 &#39;c&#39;
 &#39;d&#39;

julia&gt; collect(a)
2-element Array{Char,1}:
 &#39;e&#39;
 &#39;f&#39;</code></pre><pre><code class="language-julia-repl">julia&gt; a = Iterators.Stateful([1,1,1,2,3,4]);

julia&gt; for x in a; x == 1 || break; end

julia&gt; Base.peek(a)
3

julia&gt; sum(a) # Sum the remaining elements
7</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L975-L1026">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.zip" href="#Base.Iterators.zip"><code>Base.Iterators.zip</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">zip(iters...)</code></pre><p>For a set of iterable objects, return an iterable of tuples, where the <code>i</code>th tuple contains the <code>i</code>th component of each input iterable.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; a = 1:5
1:5

julia&gt; b = [&quot;e&quot;,&quot;d&quot;,&quot;b&quot;,&quot;c&quot;,&quot;a&quot;]
5-element Array{String,1}:
 &quot;e&quot;
 &quot;d&quot;
 &quot;b&quot;
 &quot;c&quot;
 &quot;a&quot;

julia&gt; c = zip(a,b)
Base.Iterators.Zip2{UnitRange{Int64},Array{String,1}}(1:5, [&quot;e&quot;, &quot;d&quot;, &quot;b&quot;, &quot;c&quot;, &quot;a&quot;])

julia&gt; length(c)
5

julia&gt; first(c)
(1, &quot;e&quot;)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L338-L366">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.enumerate" href="#Base.Iterators.enumerate"><code>Base.Iterators.enumerate</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">enumerate(iter)</code></pre><p>An iterator that yields <code>(i, x)</code> where <code>i</code> is a counter starting at 1, and <code>x</code> is the <code>i</code>th value from the given iterator. It&#39;s useful when you need not only the values <code>x</code> over which you are iterating, but also the number of iterations so far. Note that <code>i</code> may not be valid for indexing <code>iter</code>; it&#39;s also possible that <code>x != iter[i]</code>, if <code>iter</code> has indices that do not start at 1. See the <code>enumerate(IndexLinear(), iter)</code> method if you want to ensure that <code>i</code> is an index.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; a = [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;];

julia&gt; for (index, value) in enumerate(a)
           println(&quot;$index $value&quot;)
       end
1 a
2 b
3 c</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L110-L132">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.rest" href="#Base.Iterators.rest"><code>Base.Iterators.rest</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">rest(iter, state)</code></pre><p>An iterator that yields the same elements as <code>iter</code>, but starting at the given <code>state</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; collect(Iterators.rest([1,2,3,4], 2))
3-element Array{Int64,1}:
 2
 3
 4</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L454-L467">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.countfrom" href="#Base.Iterators.countfrom"><code>Base.Iterators.countfrom</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">countfrom(start=1, step=1)</code></pre><p>An iterator that counts forever, starting at <code>start</code> and incrementing by <code>step</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; for v in Iterators.countfrom(5, 2)
           v &gt; 10 &amp;&amp; break
           println(v)
       end
5
7
9</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L514-L529">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.take" href="#Base.Iterators.take"><code>Base.Iterators.take</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">take(iter, n)</code></pre><p>An iterator that generates at most the first <code>n</code> elements of <code>iter</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; a = 1:2:11
1:2:11

julia&gt; collect(a)
6-element Array{Int64,1}:
  1
  3
  5
  7
  9
 11

julia&gt; collect(Iterators.take(a,3))
3-element Array{Int64,1}:
 1
 3
 5</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L551-L576">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.drop" href="#Base.Iterators.drop"><code>Base.Iterators.drop</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">drop(iter, n)</code></pre><p>An iterator that generates all but the first <code>n</code> elements of <code>iter</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; a = 1:2:11
1:2:11

julia&gt; collect(a)
6-element Array{Int64,1}:
  1
  3
  5
  7
  9
 11

julia&gt; collect(Iterators.drop(a,4))
2-element Array{Int64,1}:
  9
 11</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L608-L632">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.cycle" href="#Base.Iterators.cycle"><code>Base.Iterators.cycle</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">cycle(iter)</code></pre><p>An iterator that cycles through <code>iter</code> forever. If <code>iter</code> is empty, so is <code>cycle(iter)</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; for (i, v) in enumerate(Iterators.cycle(&quot;hello&quot;))
           print(v)
           i &gt; 10 &amp;&amp; break
       end
hellohelloh</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L662-L676">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.repeated" href="#Base.Iterators.repeated"><code>Base.Iterators.repeated</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">repeated(x[, n::Int])</code></pre><p>An iterator that generates the value <code>x</code> forever. If <code>n</code> is specified, generates <code>x</code> that many times (equivalent to <code>take(repeated(x), n)</code>).</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; a = Iterators.repeated([1 2], 4);

julia&gt; collect(a)
4-element Array{Array{Int64,2},1}:
 [1 2]
 [1 2]
 [1 2]
 [1 2]</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L701-L718">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.product" href="#Base.Iterators.product"><code>Base.Iterators.product</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">product(iters...)</code></pre><p>Return an iterator over the product of several iterators. Each generated element is a tuple whose <code>i</code>th element comes from the <code>i</code>th argument iterator. The first iterator changes the fastest.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; collect(Iterators.product(1:2, 3:5))
2×3 Array{Tuple{Int64,Int64},2}:
 (1, 3)  (1, 4)  (1, 5)
 (2, 3)  (2, 4)  (2, 5)</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L735-L749">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.flatten" href="#Base.Iterators.flatten"><code>Base.Iterators.flatten</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">flatten(iter)</code></pre><p>Given an iterator that yields iterators, return an iterator that yields the elements of those iterators. Put differently, the elements of the argument iterator are concatenated.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; collect(Iterators.flatten((1:2, 8:9)))
4-element Array{Int64,1}:
 1
 2
 8
 9</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L857-L873">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.partition" href="#Base.Iterators.partition"><code>Base.Iterators.partition</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">partition(collection, n)</code></pre><p>Iterate over a collection <code>n</code> elements at a time.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; collect(Iterators.partition([1,2,3,4,5], 2))
3-element Array{Array{Int64,1},1}:
 [1, 2]
 [3, 4]
 [5]</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L911-L924">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.filter" href="#Base.Iterators.filter"><code>Base.Iterators.filter</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">Iterators.filter(flt, itr)</code></pre><p>Given a predicate function <code>flt</code> and an iterable object <code>itr</code>, return an iterable object which upon iteration yields the elements <code>x</code> of <code>itr</code> that satisfy <code>flt(x)</code>. The order of the original iterator is preserved.</p><p>This function is <em>lazy</em>; that is, it is guaranteed to return in <span>$Θ(1)$</span> time and use <span>$Θ(1)$</span> additional space, and <code>flt</code> will not be called by an invocation of <code>filter</code>. Calls to <code>flt</code> will be made when iterating over the returned iterable object. These calls are not cached and repeated calls will be made when reiterating.</p><p>See <a href="../collections/#Base.filter"><code>Base.filter</code></a> for an eager implementation of filtering for arrays.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; f = Iterators.filter(isodd, [1, 2, 3, 4, 5])
Base.Iterators.Filter{typeof(isodd),Array{Int64,1}}(isodd, [1, 2, 3, 4, 5])

julia&gt; foreach(println, f)
1
3
5</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L402-L427">source</a></section><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="Base.Iterators.reverse" href="#Base.Iterators.reverse"><code>Base.Iterators.reverse</code></a> — <span class="docstring-category">Function</span>.</div><div><div><pre><code class="language-none">Iterators.reverse(itr)</code></pre><p>Given an iterator <code>itr</code>, then <code>reverse(itr)</code> is an iterator over the same collection but in the reverse order.</p><p>This iterator is &quot;lazy&quot; in that it does not make a copy of the collection in order to reverse it; see <a href="../arrays/#Base.reverse-Tuple{AbstractArray{T,1} where T}"><code>Base.reverse</code></a> for an eager implementation.</p><p>Not all iterator types <code>T</code> support reverse-order iteration.  If <code>T</code> doesn&#39;t, then iterating over <code>Iterators.reverse(itr::T)</code> will throw a <a href="../base/#Core.MethodError"><code>MethodError</code></a> because of the missing <a href="../collections/#Base.iterate"><code>iterate</code></a> methods for <code>Iterators.Reverse{T}</code>. (To implement these methods, the original iterator <code>itr::T</code> can be obtained from <code>r = Iterators.reverse(itr)</code> by <code>r.itr</code>.)</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl">julia&gt; foreach(println, Iterators.reverse(1:5))
5
4
3
2
1</code></pre></div></div><a class="source-link" target="_blank" href="https://github.com/JuliaLang/julia/blob/b145832402429ee1c88709edb3e341067353d1b0/base/iterators.jl#L50-L74">source</a></section><footer><hr/><a class="previous" href="../sort/"><span class="direction">Previous</span><span class="title">Sorting and Related Functions</span></a><a class="next" href="../c/"><span class="direction">Next</span><span class="title">C Interface</span></a></footer></article></body></html>
